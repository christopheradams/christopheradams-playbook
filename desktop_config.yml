---
- hosts: localhost
  vars:
    dotfiles_repo: git@github.com:christopheradams/dotfiles.git

  tasks:
    - name: Clone dotfiles
      git:
        repo: "{{ dotfiles_repo }}"
        dest: ~/dotfiles

    - name: Load gnome-terminal profiles
      shell:
        cmd: dconf load /org/gnome/terminal/legacy/profiles:/
        stdin: "{{ lookup('file', 'config/gnome-terminal.conf') }}"

    # To dump the profiles:
    #   dconf dump /org/gnome/terminal/legacy/profiles:/ > config/gnome-terminal.conf

    # Samba
    # sudo smbpasswd -a christopher
